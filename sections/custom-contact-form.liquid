<section class="custom-contact-form-section">
  <div class="page-width">
    <h2 class="contact__title">{{ section.settings.form_title }}</h2>

    {%- form 'contact', id: 'CustomContactForm', class: 'contact-form' -%}
      <!-- First Name & Last Name -->
      <div class="contact__fields">
        <div class="field">
          <input class="field__input" type="text" id="first_name" name="contact[first_name]" required>
          <label class="field__label" for="first_name">{{ section.settings.first_name_label }}</label>
        </div>

        <div class="field">
          <input class="field__input" type="text" id="last_name" name="contact[last_name]" required>
          <label class="field__label" for="last_name">{{ section.settings.last_name_label }}</label>
        </div>
      </div>

      <!-- Email Input -->
      <div class="field">
        <input class="field__input" type="email" id="email" name="contact[email]" required>
        <label class="field__label" for="email">{{ section.settings.email_label }}</label>
      </div>

      <!-- Subject Input -->
      <div class="field">
        <input class="field__input" type="text" id="subject" name="contact[subject]" required>
        <label class="field__label" for="subject">{{ section.settings.subject_label }}</label>
      </div>

      <!-- Message Textarea -->
      <div class="field">
        <textarea class="field__input" id="message" name="contact[body]" rows="4" required></textarea>
        <label class="field__label" for="message">{{ section.settings.message_label }}</label>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="contact__button">{{ section.settings.button_text }}</button>
    {%- endform -%}

    {% if form.posted_successfully? %}
      <p class="success-message">{{ section.settings.success_message }}</p>
    {% endif %}
  </div>
</section>

<style>
  .custom-contact-form-section {
    max-width: 600px;
    margin: auto;
  }
  .contact__fields {
    display: flex;
    gap: 10px;
  }
  .field {
    position: relative;
    margin-bottom: 15px;
    width: 100%;
  }
  .field__input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  .field__label {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #999;
    transition: all 0.2s;
  }
  .field__input:focus + .field__label,
  .field__input:not(:placeholder-shown) + .field__label {
    top: 5px;
    font-size: 12px;
    color: #333;
  }
  .contact__button {
    display: block;
    width: 100%;
    background: #007bff;
    color: #fff;
    border: none;
    padding: 10px;
    border-radius: 5px;
    cursor: pointer;
  }
  .contact__button:hover {
    background: #0056b3;
  }
  .success-message {
    color: green;
    font-weight: bold;
  }
</style>

{% schema %}
{
  "name": "Custom Contact Form",
  "settings": [
    {
      "type": "text",
      "id": "form_title",
      "label": "Form Title",
      "default": "Contact Us"
    },
    {
      "type": "text",
      "id": "first_name_label",
      "label": "First Name Label",
      "default": "First Name"
    },
    {
      "type": "text",
      "id": "last_name_label",
      "label": "Last Name Label",
      "default": "Last Name"
    },
    {
      "type": "text",
      "id": "email_label",
      "label": "Email Label",
      "default": "Email"
    },
    {
      "type": "text",
      "id": "subject_label",
      "label": "Subject Label",
      "default": "Subject"
    },
    {
      "type": "text",
      "id": "message_label",
      "label": "Message Label",
      "default": "Message"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Submit Button Text",
      "default": "Send Message"
    },
    {
      "type": "text",
      "id": "success_message",
      "label": "Success Message",
      "default": "Thank you! Your message has been sent."
    }
  ],
  "presets": [
    {
      "name": "Custom Contact Form"
    }
  ]
}
{% endschema %}
